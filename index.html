<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.ckeditor.com/ckeditor5/41.3.1/super-build/ckeditor.js"></script>
    <link href="main.css" rel="stylesheet" />
    <script
      async
      src="https://static-au03.vitalstats.app/static/dynamic-list/v1/latest.js"
      crossorigin="anonymous"
    ></script>
    <script>
      window.THCPortalDefaults = {
        apiEndpoint: "https://thc.vitalstats.app/api/v1/graphql",
        apiKey: "awWH16PsRms2px8-93-Uw",
        qty: 1,
        repeats: 3,
        intervalDays: 1,
        dispenseQty: 1,
        validUntilMonths: 6,
        dosage: "Use as directed by your physician.",
        doctorId: Number("1"),
        patientId: Number("249"),
        appointmentId: Number("367"),
        appointmentUid: "3UYZ7PT",
        loggednInUserId: Number("1"),
      };
    </script>
  </head>

  <body>
    <aside
      id="compareSidebar"
      class="compare-sidebar bg-white border-l border-slate-200 shadow-xl hidden"
    >
      <div class="h-full flex flex-col">
        <div
          class="px-4 py-3 border-b border-slate-200 flex items-center justify-between"
        >
          <div>
            <h2 class="text-lg font-semibold text-slate-900">Selected items</h2>
            <p class="text-sm text-slate-500">Uncheck or remove to close</p>
          </div>
          <button
            id="compareClose"
            class="inline-flex items-center justify-center h-8 w-8 rounded-md border border-slate-200 text-slate-500 hover:bg-slate-50"
            aria-label="Collapse"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M10 8.586l4.243-4.243 1.414 1.414L11.414 10l4.243 4.243-1.414 1.414L10 11.414l-4.243 4.243-1.414-1.414L8.586 10 4.343 5.757l1.414-1.414L10 8.586z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
        <div
          id="compareList"
          class="flex-1 overflow-y-auto divide-y divide-slate-100"
        ></div>
        <div class="sticky bottom-0 border-t border-slate-200 p-4 bg-white">
          <button
            id="compareCreate"
            class="w-full inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
          >
            Create Script
          </button>
        </div>
      </div>
    </aside>

    <!-- Floating toggle for collapsed state -->
    <button
      id="compareFab"
      class="compare-fab hidden bg-indigo-600 text-white flex items-center justify-center"
      aria-label="Open compare"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        viewBox="0 0 24 24"
        fill="currentColor"
      >
        <path
          d="M3 6.75A.75.75 0 013.75 6h16.5a.75.75 0 010 1.5H3.75A.75.75 0 013 6.75zm0 5.25a.75.75 0 01.75-.75h16.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75zm0 5.25a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H3.75a.75.75 0 01-.75-.75z"
        />
      </svg>
      <span id="compareCountFab" class="badge">0</span>
    </button>

    <!-- Clinical notes start -->
    <section id="clinical-notes" class="w-full">
      <div class="bg-white border border-slate-200 rounded-xl shadow-sm p-4">
        <header class="space-y-1 mb-2">
          <h2 class="text-xl font-semibold text-slate-900">
            Add new clinical note
          </h2>
        </header>

        <div class="space-y-3" data-note-new>
          <div
            id="clinical-note-editor"
            class="bg-white rounded-lg border border-slate-200"
          ></div>
          <div class="text-xs text-slate-500" data-note-status hidden>
            Ready
          </div>
        </div>
      </div>
    </section>

    <div
      class="bg-white border border-slate-200 rounded-xl shadow-sm p-4 saved-notes-section"
    >
      <header class="space-y-1 mb-2">
        <h2 class="text-xl font-semibold text-slate-900">
          Previously Saved Notes
        </h2>
      </header>
      <div
        id="clinical-notes-list"
        data-dynamic-list="d5GNzocnu1gOZPEDX0wlC"
        data-entity="thc"
        data-entity-key="awWH16PsRms2px8-93-Uw"
        data-var-uid="EV7U000"
        data-limit="500"
        class="space-y-3"
      >
        <div
          class="js-accordion border rounded bg-white"
          data-uid="[Unique_ID]"
          data-id="[ID]"
          data-appointemnt-uid="[Appointment_Unique_ID]"
          data-patient-uid="[Patient_Unique_ID]"
        >
          <div
            class="h3 cursor-pointer select-none p-3 bg-gray-100 hover:bg-gray-200 rounded-t flex items-center justify-between js-acc-header"
          >
            <span class="truncate">
              ([Date_Created] - [Author_First_Name] [Author_Last_Name])
              <span class="block text-sm text-gray-600"
                >[note_title] | Script Count ([Appointment_Script_Count])</span
              >
            </span>
            <svg
              class="w-4 h-4 transition-transform duration-300"
              data-chevron
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 9l-7 7-7-7"
              />
            </svg>
          </div>

          <div
            class="js-acc-panel hidden p-3 space-y-3 border-t rounded-b bg-gray-50"
          >
            <div class="border rounded bg-white p-4">
              <div class="font-semibold px-3 py-2 border-b">Clinical note</div>
              <div
                class="p-3 body-text whitespace-pre-wrap js-rich-content note-content"
              >
                [Content]
              </div>
              <div
                class="pb-3 pt-1 text-sm text-gray-600 mt-2"
                data-note-upload-row
                hidden
              >
                <span data-note-upload>[Upload]</span>
              </div>
            </div>

            <div class="border rounded bg-white js-script-card">
              <div class="font-semibold px-3 py-2 border-b">
                [ItemBrand] | [Item_Item_Name]
              </div>
              <div class="p-3 body-text">
                <b>Status:</b>
                <span class="js-empty-dash">[Script_Script_Status]</span><br />
                <b>Type:</b> <span class="js-empty-dash">[ItemType]</span><br />
                <b>Supply:</b>
                <span class="js-empty-dash"
                  >[ScriptRemaining]/[Script_Supply_Limit]</span
                ><br />
                <b>Expiry :</b>
                <span class="js-empty-dash">[Script_Valid_Until]</span><br />
                <b>Dosage Instructions:</b>
                <span class="js-empty-dash">[Script_Dosage_Instructions]</span
                ><br />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Clinical notes end-->

    <div class="thc-datalist-wrap">
      <div
        id="thc-datalist"
        class="thc-datalist"
        data-dynamic-list="ZBP70XBbeW3GeD7O8Ttbd"
        data-var-uid="EV7U000"
        data-url-var-uid="uid"
        data-entity="thc"
        data-entity-key="awWH16PsRms2px8-93-Uw"
        data-table="true"
        data-op="subscribe"
        data-init-cb-name="vsInit"
      ></div>
    </div>

    <div class="flex flex-col lg:flex-row items-start gap-6">
      <div
        class="bg-white text-slate-900 antialiased w-full lg:w-80 xl:w-[28rem] lg:flex-none"
      >
        <div class="flex flex-col flex-auto p-4">
          <!-- search-section -->
          <div class="font-Balto text-bg-indigo-950">
            <!-- breadcrumb -->
            <div class="flex flex-row flex-wrap">
              <div class="text-md text-slate-500">
                <ol class="flex items-center gap-2">
                  <li><a href="#" class="text-slate-900">Search</a></li>
                  <li class="text-slate-400">/</li>
                  <li class="text-slate-900">Medicines Database</li>
                </ol>
              </div>
            </div>

            <!-- Page header -->
            <header class="mt-4 search-header">
              <h2 class="text-2xl font-bold tracking-tight">
                Medicines Database
              </h2>
              <p class="mt-3 max-w-3xl text-slate-900">
                Start your product search with your patient in mind. Product
                order is weighted toward products with clinical research and
                case studies first, followed by transparency into the product.
              </p>
              <a
                target="_blank"
                href="https://catalyst.honahlee.com.au/app/search/all"
                data-active="false"
                type="button"
                class="block w-max mt-2 px-4 py-2 rounded-md bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition text-nowrap"
              >
                Search Catalyst
              </a>
              <div class="json-search-notes mt-4"></div>
            </header>

            <div class="flex items-center space-x-2 my-6">
              <!-- Input with black bottom border -->
              <input
                type="text"
                placeholder="Search products"
                class="w-64 px-3 py-2 bg-gray-100 border-b-2 border-black focus:outline-none focus:border-black"
              />

              <!-- Search button -->
              <button
                data-active="false"
                type="button"
                class="px-4 py-2 rounded-md bg-indigo-600 text-white font-medium hover:bg-indigo-700 transition text-nowrap"
              >
                Search
              </button>
            </div>

            <!-- Product details -->
            <section class="mt-8 filter-buttons space-y-4">
              <!-- Favorites (kept) -->
              <div
                id="favorites-section"
                class="filter-group flex flex-wrap gap-3"
              >
                <button
                  data-active="false"
                  type="button"
                  class="my-favorite relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                >
                  <span class="font-medium">My Favourites</span>
                </button>
              </div>

              <div id="filter-type" class="filter-group">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1"
                >
                  Type
                </p>
                <div class="flex flex-wrap gap-3">
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Accessory"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Accessory</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Edible"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Edible</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Flower"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Flower</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Vape"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Vape</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Oil"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Oil</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="type"
                    data-filter-value="Extract"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Extract</span>
                  </button>
                </div>
              </div>

              <div id="filter-subtype" class="filter-group">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1"
                >
                  Sub Type
                </p>
                <div class="flex flex-wrap gap-3">
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="sub_type"
                    data-filter-value="Budget"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Budget</span>
                  </button>
                </div>
              </div>

              <div id="filter-dominance" class="filter-group">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1"
                >
                  Dominance
                </p>
                <div class="flex flex-wrap gap-3">
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="THC-dominant"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">THC-dominant</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="CBD-dominant"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">CBD-dominant</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="CBG-dominant"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">CBG-dominant</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="CBN-dominant"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">CBN-dominant</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="THCV-dominant"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">THCV-dominant</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="Broad-spectrum"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Broad-spectrum</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="dominance"
                    data-filter-value="Full-spectrum"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Full-spectrum</span>
                  </button>
                </div>
              </div>

              <div id="filter-lineage" class="filter-group">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1"
                >
                  Client Preference Lineage
                </p>
                <div class="flex flex-wrap gap-3">
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="lineage"
                    data-filter-value="Balanced"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Balanced</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="lineage"
                    data-filter-value="Sativa"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Sativa</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="lineage"
                    data-filter-value="Indica"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Indica</span>
                  </button>
                </div>
              </div>

              <div id="filter-status" class="filter-group">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-1"
                >
                  Status
                </p>
                <div class="flex flex-wrap gap-3">
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="status"
                    data-filter-value="In Stock"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">In stock</span>
                  </button>
                  <button
                    data-active="false"
                    type="button"
                    data-filter-field="status"
                    data-filter-value="Not Available"
                    class="relative flex items-center gap-2 rounded-2xl border border-slate-300 bg-white px-3 py-2 shadow-sm hover:shadow transition"
                  >
                    <span class="font-medium">Out of stock</span>
                  </button>
                </div>
              </div>

              <div class="rounded-2xl border border-slate-200 bg-white p-4">
                <p
                  class="text-xs font-semibold uppercase tracking-wide text-slate-500 mb-3"
                >
                  Price range
                </p>
                <div class="relative pb-6">
                  <output
                    id="activeBubble"
                    class="bubble hidden absolute -top-[1px] -translate-x-1/2 rounded-full bg-indigo-700 px-4 py-3 text-xs font-semibold text-white shadow"
                  ></output>
                  <div
                    class="absolute left-0 right-0 top-1/2 h-1 -translate-y-1/2 rounded-full bg-indigo-200"
                  ></div>
                  <div
                    id="progress"
                    class="absolute top-1/2 h-1 -translate-y-1/2 rounded-full bg-indigo-500"
                  ></div>
                  <input
                    id="min"
                    type="range"
                    min="0"
                    max="1000"
                    step="10"
                    value="0"
                    class="range-input z-30"
                  />
                  <input
                    id="max"
                    type="range"
                    min="0"
                    max="1000"
                    step="10"
                    value="1000"
                    class="range-input z-30"
                  />
                  <div class="mt-6 flex justify-between text-sm text-gray-500">
                    <span>$0</span>
                    <span>$1000</span>
                  </div>
                </div>
              </div>
            </section>

            <!-- Reset button -->
            <button
              id="reset-button"
              data-active="false"
              type="button"
              class="mt-6 inline-flex items-center gap-2 border-2 rounded-lg px-3 py-2 shadow-sm hover:shadow transition"
            >
              <svg
                class="w-5 h-5"
                focusable="false"
                viewBox="0 0 24 24"
                aria-hidden="true"
              >
                <path
                  d="M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"
                ></path>
              </svg>
              Reset
            </button>
          </div>
        </div>
      </div>

      <div class="flex-1 min-w-0">
        <!-- Sorting/pages menu -->
        <div
          class="flex items-start justify-start lg:items-center lg:justify-between w-full mt-4 flex-col lg:flex-row px-4 gap-2"
        >
          <!-- Left side: buttons -->
          <div class="flex space-x-2">
            <!-- Page size dropdown -->
            <div class="relative" data-dd="pagesize">
              <button
                type="button"
                class="flex items-center gap-1 rounded-full border border-gray-400 px-3 py-1 text-sm font-semibold text-gray-900 hover:bg-gray-100"
                data-dd-trigger
                aria-haspopup="listbox"
                aria-expanded="false"
              >
                <!-- icon -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                  aria-hidden="true"
                  class="h-5 w-5 text-gray-800"
                >
                  <path
                    d="M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z"
                  />
                </svg>

                <span data-dd-label>10</span>
              </button>

              <!-- Menu -->
              <ul
                class="flex gap-2 flex-col p-3 absolute z-10 mt-2 w-40 rounded-lg border border-gray-300 bg-white shadow-lg hidden"
                role="listbox"
                tabindex="-1"
                data-dd-menu
              >
                <!-- item -->
                <label>Results per page</label>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="10"
                >
                  <span>10</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="20"
                >
                  <span>20</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="50"
                >
                  <span>50</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="100"
                >
                  <span>100</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
              </ul>
            </div>

            <!-- Sort dropdown -->
            <div class="relative" data-dd="sort">
              <button
                type="button"
                class="flex items-center gap-1 rounded-full border border-gray-400 px-3 py-1 text-sm font-semibold hover:bg-gray-100"
                data-dd-trigger
                aria-haspopup="listbox"
                aria-expanded="false"
              >
                <!-- icon -->
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-4 w-4 text-gray-700"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M3 4h18M3 12h12M3 20h6"
                  />
                </svg>
                <span class="font-medium" data-dd-label>Sort</span>
              </button>

              <ul
                class="absolute z-10 mt-2 w-48 rounded-lg border border-gray-300 bg-white shadow-lg hidden"
                role="listbox"
                tabindex="-1"
                data-dd-menu
              >
                <!-- Example sort options -->
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="relevance"
                >
                  <span>Default</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="price-asc"
                >
                  <span>Price: Low to High</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
                <li
                  class="flex items-center justify-between px-3 py-2 text-sm hover:bg-gray-100 cursor-pointer"
                  role="option"
                  data-value="price-desc"
                >
                  <span>Price: High to Low</span>
                  <svg
                    class="h-4 w-4 text-indigo-600 opacity-0"
                    data-check
                    viewBox="0 0 20 20"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M16.707 5.293a1 1 0 010 1.414l-7.364 7.364a1 1 0 01-1.414 0L3.293 9.435a1 1 0 111.414-1.414l3.222 3.222 6.657-6.657a1 1 0 011.414 0z"
                      clip-rule="evenodd"
                    />
                  </svg>
                </li>
              </ul>
            </div>
          </div>

          <!-- Right side: results text -->
          <div class="flex flex-wrap gap-1 text-sm text-indigo-900">
            Showing <span class="font-semibold" id="pageShowing">0</span> of
            <span class="font-semibold" id="totalResults">0</span>
            results
          </div>
        </div>
        <!-- Grid -->
        <div
          class="grid-root !grid items-grid gap-4 p-4"
          data-dynamic-list="7M75T2nXdllEV2Iq3m2Zw"
          data-entity="thc"
          data-entity-key="awWH16PsRms2px8-93-Uw"
          data-limit="500"
        >
          <!-- Card -->
          <div
            class="flex flex-col flex-wrap group relative rounded-2xl border border-[rgb(210,202,227)] bg-white shadow-sm hover:shadow-md transition-all"
          >
            <!-- Header -->
            <div class="p-5 pb-3">
              <div class="flex items-start gap-3">
                <div class="flex-1">
                  <h3
                    class="text-xl font-semibold text-slate-900 leading-tight"
                  >
                    [Item_Name]
                  </h3>
                  <p class="mt-1 text-sm text-slate-600">[Brand]</p>
                </div>
                <div class="shrink-0">
                  <p class="hidden origin-country">[Origin_Country]</p>
                  <img
                    class="country-flag h-5 w-7 rounded-sm ring-1 ring-slate-200 object-cover"
                    src=""
                    alt="Country flag"
                  />
                </div>
              </div>
              <!-- Badges row (THC / CBD) -->
              <div class="mt-4 flex flex-wrap items-center gap-2">
                <span
                  class="checkCount inline-flex items-center rounded-full border border-purple-200 bg-purple-50 px-3 py-1 text-xs font-medium text-purple-800"
                  >[THC][Strength_Unit] THC</span
                >
                <span
                  class="checkCount inline-flex items-center rounded-full border border-amber-200 bg-amber-50 px-3 py-1 text-xs font-medium text-amber-800"
                  >[CBD][Strength_Unit] CBD</span
                >
                <!-- Add sun and moon based on client preference lineage -->
                <span
                  class="lineage-badge inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-100 px-3 py-1 text-xs font-medium text-slate-700"
                  data-lineage-badge
                >
                  <span class="lineage-icon hidden text-base leading-none" aria-hidden="true"></span>
                  <span class="lineage-label">[Client_Preference_Lineage]</span>
                </span>
              </div>
            </div>
            <!-- Hidden data for search indexing -->
            <div
              class="search-index hidden"
              data-item-name="[Item_Name]"
              data-brand="[Brand]"
              data-type="[Type]"
              data-sub-type="[Sub_Type]"
              data-dominance="[Dominance]"
              data-client-preference-lineage="[Client_Preference_Lineage]"
              data-status="[Status]"
              data-origin-country="[Origin_Country]"
              data-organic="[Organic]"
              data-benefits="[Benefits_Options_As_Text]"
              data-conditions="[Conditions_Options_As_Text]"
              data-dominant-terpenes="[Dominant_Terpenes_Options_As_Text]"
            ></div>
            <!-- Meta row: type/price/status/count -->
            <div class="px-5 pb-4">
              <div
                class="flex flex-wrap items-center gap-4 text-sm text-slate-700"
              >
                <!-- Type -->
                <div class="flex items-center gap-2">
                  <span
                    class="inline-flex h-6 w-6 items-center justify-center rounded-full bg-slate-100 ring-1 ring-slate-200 items-type-icon"
                    >🍃</span
                  >
                  <span class="truncate">[Type]</span>
                </div>
                <!-- Price per unit (text placeholder to match $/g or $/mg) -->
                <div class="flex items-center gap-2">
                  <span class="text-slate-500"></span>
                  <span class="font-medium">$[Retail_Price]</span>
                </div>
                <!-- Status -->
                <div class="flex items-center gap-2">
                  <span
                    class="h-2.5 w-2.5 rounded-full bg-emerald-500 status-dot"
                    data-status="[Status]"
                  ></span>
                  <span>[Status]</span>
                </div>
              </div>
              <div class="flex items-center gap-2 mt-2">
                <span class="text-slate-500">Price per mg: </span>
                <span class="font-medium">$[Price_per_mg]</span>
              </div>
              <div class="flex items-center gap-2 mt-2">
                <span class="text-slate-500">Price per g: </span>
                <span class="font-medium">$[Price_per_g]</span>
              </div>
              <div class="flex items-center gap-2 mt-2">
                <span class="text-slate-500">Pack Size: </span>
                <span class="font-medium">[PackSize] [Quantity_Unit]</span>
              </div>
            </div>
            <!-- Divider -->
            <div class="border-t border-slate-200"></div>
            <!-- Footer actions -->
            <div class="p-4 flex items-center justify-between">
              <a
                href="[Item_Detail_Page_URL]"
                rel="noopener"
                target="_blank"
                class="inline-flex items-center justify-center rounded-xl bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"
                aria-label="View"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                  stroke-width="2"
                  aria-hidden="true"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M2.458 12C3.732 7.943 7.523 5 12 5c4.477 0 8.268 2.943 9.542 7-1.274 4.057-5.065 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                  />
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                  />
                </svg>
              </a>
              <!-- Heart button: toggles filled red vs. outlined black -->
              <div class="flex items-center gap-3">
                <button
                  type="button"
                  class="heart-btn js-heart inline-flex items-center justify-center p-1 text-slate-600 hover:text-red-600"
                  aria-pressed="false"
                  title="Save"
                  data-item-id="[ID]"
                  data-item-name="[Item_Name]"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    class="h-5 w-5"
                  >
                    <path
                      d="M12.001 4.529c2.349-2.532 6.351-2.532 8.7 0 2.3 2.48 2.3 6.5 0 8.98l-7.1 7.65a1 1 0 0 1-1.4 0l-7.2-7.65c-2.3-2.48-2.3-6.5 0-8.98 2.349-2.532 6.351-2.532 8.7 0z"
                    />
                  </svg>
                </button>
                <!-- Create Script section - hidden for out of stock items -->
                <div
                  class="create-script-section flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2"
                  data-status="[Status]"
                >
                  <span class="line-clamp-1 text-sm font-medium text-slate-700"
                    >Create Script</span
                  >
                  <input
                    type="checkbox"
                    class="cursor-pointer js-compare !block h-5 w-5 rounded-md border-slate-300 text-indigo-600 focus:ring-indigo-500"
                    data-item-id="[Unique_ID]"
                    data-item-name="[Item_Name]"
                    data-item-dosage-instructions="[Dosage_Instructions]"
                    data-item-route="[Route]"
                    data-item-drug-id="[ID]"
                  />
                </div>
                <!-- Out of stock message - shown only for out of stock items -->
                <div
                  class="out-of-stock-message flex items-center gap-2 rounded-xl border border-red-200 bg-red-50 px-3 py-2 text-red-700"
                  data-status="[Status]"
                  style="display: none"
                >
                  <span class="text-sm font-medium">Unavailable</span>
                </div>
              </div>
            </div>
          </div>
          <!-- /Card -->
        </div>
        <!-- Pagination -->
        <div
          id="gridPagination"
          class="flex items-center justify-center gap-2 px-4 pb-6"
        ></div>
      </div>
    </div>

    <script src="js/clinicalNotes.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/productIcons.js"></script>
    <script src="js/tableActions.js"></script>
    <script src="js/favorites.js"></script>
    <script src="js/search.js"></script>
    <script src="js/dropdown.js"></script>
    <script src="js/tableUi.js"></script>
    <script src="js/stockStatus.js"></script>
    <script src="js/filterIcons.js"></script>
    <script src="js/notesHandler.js"></script>
  </body>
</html>
